{% extends 'exercises/base.html' %}

{% block title %}Login - Practika{% endblock %}

{% block content %}
<div class="card" style="max-width: 400px; margin: 0 auto;">
    <h2>Secure Login</h2>
    
    <div class="security-info">
        <h4>Security Features</h4>
        <ul>
            <li>Rate limiting: 5 attempts per minute</li>
            <li>Account lockout after 5 failed attempts</li>
            <li>Session timeout: 1 hour</li>
            <li>Secure password validation</li>
        </ul>
    </div>
    
    <form method="post" id="login-form">
        <!-- CSRF token temporarily disabled for testing -->
        <div class="form-group">
            <label for="username">ðŸ‘¤ Username</label>
            <input type="text" id="username" name="username" required 
                   pattern="[a-zA-Z0-9_@.+-]+" 
                   title="Username can only contain letters, numbers, and @.+-_ characters"
                   maxlength="150" placeholder="Enter your username...">
        </div>
        
        <div class="form-group">
            <label for="password">ðŸ”’ Password</label>
            <div class="password-container">
                <input type="password" id="password" name="password" required 
                       minlength="8" 
                       title="Password must be at least 8 characters long">
                <button type="button" id="toggle-password" class="password-toggle" 
                        aria-label="Toggle password visibility">
                    Show
                </button>
            </div>
        </div>
        
        <button type="submit" class="btn btn-success" style="width: 100%;" title="ðŸ”‘ Login">ðŸ”‘ Login</button>
    </form>
    
</div>

<script>
    // Toggle password visibility
    document.getElementById('toggle-password').addEventListener('click', function() {
        const passwordInput = document.getElementById('password');
        const button = this;
        
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            button.textContent = 'Hide';
        } else {
            passwordInput.type = 'password';
            button.textContent = 'Show';
        }
    });
</script>
{% endblock %}
